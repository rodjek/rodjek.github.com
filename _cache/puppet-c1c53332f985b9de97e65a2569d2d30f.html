<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span class="gr">class</span> <span class="kn">ntp</span> <span class="gr">{</span>
  <span class="k">case</span> <span class="nv">$</span><span class="gr">::</span><span class="err">operatingsystem</span> <span class="gr">{</span>
    <span class="kn">Debian:</span> <span class="gr">{</span>
      <span class="nv">$packagename</span> <span class="o">=</span> <span class="s">&#39;openntp&#39;</span><span class="gr"></span>
      <span class="nv">$servicename</span> <span class="o">=</span> <span class="s">&#39;openntp&#39;</span><span class="gr"></span>
    <span class="gr">}</span>
    <span class="na">default</span><span class="gr">:</span> <span class="gr">{</span>
      <span class="nv">$packagename</span> <span class="o">=</span> <span class="s">&#39;ntp&#39;</span><span class="gr"></span>
      <span class="nv">$servicename</span> <span class="o">=</span> <span class="s">&#39;ntp&#39;</span><span class="gr"></span>
    <span class="gr">}</span>
  <span class="gr">}</span>

  <span class="kn">package</span> <span class="gr">{</span> <span class="nv">$packagename</span><span class="gr">:</span>
    <span class="nc">ensure</span> <span class="nn">=&gt;</span> <span class="s">installed</span><span class="gr">,</span>
  <span class="gr">}</span>

  <span class="kn">file</span> <span class="gr">{</span> <span class="s">&#39;/etc/ntp.conf&#39;</span><span class="gr">:</span>
    <span class="nc">ensure</span>  <span class="nn">=&gt;</span> <span class="s">file</span><span class="gr">,</span>
    <span class="nc">source</span>  <span class="nn">=&gt;</span> <span class="s">&#39;puppet:///modules/ntp/etc/ntp.conf&#39;</span><span class="gr">,</span>
    <span class="nc">owner</span>   <span class="nn">=&gt;</span> <span class="s">&#39;root&#39;</span><span class="gr">,</span>
    <span class="nc">group</span>   <span class="nn">=&gt;</span> <span class="s">&#39;root&#39;</span><span class="gr">,</span>
    <span class="nc">mode</span>    <span class="nn">=&gt;</span> <span class="s">&#39;0444&#39;</span><span class="gr">,</span>
    <span class="nc">require</span> <span class="nn">=&gt;</span> <span class="kn">Package</span><span class="gr">[</span><span class="nv">$packagename</span><span class="gr">],</span>
    <span class="s">notify</span>  <span class="s">=&gt;</span> <span class="kn">Service</span><span class="gr">[</span><span class="nv">$servicename</span><span class="gr">],</span>
  <span class="s">}</span>

  <span class="s">service</span> <span class="s">{</span> <span class="nv">$servicename</span><span class="gr">:</span>
    <span class="nc">ensure</span> <span class="nn">=&gt;</span> <span class="s">&#39;running&#39;</span><span class="gr">,</span>
    <span class="nc">enable</span> <span class="nn">=&gt;</span> <span class="s">true</span><span class="gr">,</span>
  <span class="s">}</span>
<span class="s">}</span>
</pre></div>
</td></tr></table>