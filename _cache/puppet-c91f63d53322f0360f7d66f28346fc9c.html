<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">if</span><span class="gr">(</span><span class="nf">defined</span><span class="gr">(</span><span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-client&#39;</span><span class="gr">])</span> <span class="o">&amp;&amp;</span> <span class="nf">defined</span><span class="gr">(</span><span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-server&#39;</span><span class="gr">]))</span> <span class="gr">{</span>
  <span class="kn">Sensu_check</span> <span class="gr">{</span>
    <span class="nc">notify</span> <span class="nn">=&gt;</span> <span class="gr">[</span>
      <span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-client&#39;</span><span class="gr">],</span>
      <span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-server&#39;</span><span class="gr">],</span>
    <span class="gr">],</span>
  <span class="gr">}</span>
<span class="gr">}</span> <span class="k">elsif</span> <span class="nf">defined</span><span class="gr">(</span><span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-client&#39;</span><span class="gr">])</span> <span class="gr">{</span>
  <span class="kn">Sensu_check</span> <span class="gr">{</span>
    <span class="nc">notify</span> <span class="nn">=&gt;</span> <span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-client&#39;</span><span class="gr">],</span>
  <span class="gr">}</span>
<span class="gr">}</span> <span class="k">else</span> <span class="gr">{</span>
  <span class="kn">Sensu_check</span> <span class="gr">{</span>
    <span class="nc">notify</span> <span class="nn">=&gt;</span> <span class="kn">Service</span><span class="gr">[</span><span class="s">&#39;sensu-server&#39;</span><span class="gr">],</span>
  <span class="gr">}</span>
<span class="gr">}</span>
</pre></div>
</td></tr></table>